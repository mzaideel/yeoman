<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
    <title>Deploying a Yeoman Site | Yeoman</title>
  
  <meta name="viewport" content="width=device-width">

  <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Roboto:400,700,700italic,400italic' rel='stylesheet' type='text/css'>

  
  <!-- build:css({app,.tmp}) /assets/css/main.css -->
  <link href="/assets/css/normalize.css" rel="stylesheet">
  <link href="/assets/css/main.css" rel="stylesheet">
  <link href="/assets/css/codelab.css" rel="stylesheet">
  <link href="/assets/css/prettify.css" rel="stylesheet">
  <!-- endbuild -->
  

  <link href="/blog/atom.xml" type="application/atom+xml" rel="alternate" title="Yeoman Blog Atom Feed">
</head>

<body class="">

  
  <header class="page-header">
  <div class="container">
    <div class="mobile-bar">
      <h1 class="logo">
        <a href="/"><img src="/assets/img/logo.png" alt="Yeoman"></a>
      </h1>
      <button class="mobile-menu-toggle ir">open</button>
    </div>
    <nav class="main-menu">
      <ul class="main-nav">
        <li>
          <a href="/learning" class="active">Using Yeoman</a>
          <ul>
  <li>
    <a href="/learning/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/codelab.html" >Tutorial (codelab)</a>
  </li>
  <li>
    <a href="/learning/resources.html" >Resources</a>
  </li>
  <li>
    <a href="/learning/deployment.html" class="active">Deployment</a>
  </li>
  <li>
    <a href="/learning/faq.html" >FAQ</a>
  </li>
  <li>
    <a href="/learning/support.html" >Support</a>
  </li>
</ul>

        </li>
        <li>
          <a href="/generators" >Discovering generators</a>
        </li>
        <li>
          <a href="/authoring" >Creating a generator</a>
          <ul>
  <li>
    <a href="/authoring/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/authoring/running-context.html" >Running Context</a>
  </li>
  <li>
    <a href="/authoring/user-interactions.html" >User Interactions</a>
  </li>
  <li>
    <a href="/authoring/composability.html" >Composability</a>
  </li>
  <li>
    <a href="/authoring/dependencies.html" >Managing Dependencies</a>
  </li>
  <li>
    <a href="/authoring/file-system.html" >Interacting with the file system</a>
  </li>
  <li>
    <a href="/authoring/gruntfile.html" >Creating a Gruntfile</a>
  </li>
  <li>
    <a href="/authoring/storage.html" >Storing  user configs</a>
  </li>
  <li>
    <a href="/authoring/testing.html" >Unit testing</a>
  </li>
  <li>
    <a href="http://yeoman.github.io/generator/">Full API documentation</a>
  </li>
</ul>

        </li>
        <li>
          <a href="/blog" >Blog</a>
        </li>
        <li>
          <a href="/contributing" >Contributing</a>
          <ul>
  <li>
    <a href="/contributing/index.html" >Contributing</a>
  </li>
  <li>
    <a href="/contributing/opening-issues.html" >How to open an issue</a>
  </li>
  <li>
    <a href="/contributing/pull-request.html" >How to submit a PR</a>
  </li>
  <li>
    <a href="/contributing/style-guide.html" >Style Guide</a>
  </li>
  <li>
    <a href="/contributing/testing-guidelines.html" >Testing Guidelines</a>
  </li>
  <li>
    <a href="/contributing/ticketing.html" >Issue system overview</a>
  </li>
</ul>

        </li>
      </ul>
    </nav>
  </div><!-- /.container -->
</header><!-- /.page-header -->

  

  
    <div id="content">
  <h2 class="page-title">
    <div class="container">Deploying a Yeoman Site</div>
  </h2>

  <div class="container has-sidebar clearfix">
    
      <nav class="context-nav">
      <ul>
  <li>
    <a href="/learning/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/codelab.html" >Tutorial (codelab)</a>
  </li>
  <li>
    <a href="/learning/resources.html" >Resources</a>
  </li>
  <li>
    <a href="/learning/deployment.html" class="active">Deployment</a>
  </li>
  <li>
    <a href="/learning/faq.html" >FAQ</a>
  </li>
  <li>
    <a href="/learning/support.html" >Support</a>
  </li>
</ul>

      </nav>
    

    <article class="main">
      <section class="content-chunk">
        
          <p>Running the <code>build</code> task generates an optimized version of your application in the <code>dist</code> directory. There are multiple ways to version and deploy this code to production.</p>

<h2>Gulp-gh-pages</h2>

<p>Using <a href="https://www.npmjs.com/package/gulp-gh-pages">the <code>gulp-gh-pages</code> Gulp plugin</a>, you can let your application deploy using a specific task, such as <code>gulp deploy</code>. It takes various options:</p>

<ul>
<li>The Git origin, this defaults to <code>origin</code>.</li>
<li>The branch to push to, defaults to <code>gh-pages</code>.</li>
<li>The commit message.</li>
<li>An option to specify if the branch should be pushed to the origin automatically.</li>
</ul>

<p>For more information you can always checkout <a href="https://github.com/rowoot/gulp-gh-pages#readme">its readme</a>.</p>

<h2>Grunt-build-control task</h2>

<p><a href="https://github.com/robwierzbowski/grunt-build-control">Grunt build control</a> has been developed specifically to deploy Yeoman applications. It helps you version and deploy built code automatically with a grunt task. Configuration options include:</p>

<ul>
<li>The name of the branch to commit to (e.g., prod, gh-pages)</li>
<li>The remote to push to (e.g., a Heroku instance, a GitHub remote, or the local source code repo)</li>
<li>Automatic commit messages including the branch and commit the code was built from</li>
<li>Safety checks to make sure the source repository is clean, so that built code always corresponds to a source code commit</li>
</ul>

<p>Build control fetches prior to every commit and in general does a pretty good job of keeping code well versioned when with multiple contributors are deploying independently. It maintains full revision history as long as no user force pushes. Complete documentation is available at the project&#39;s <a href="https://github.com/robwierzbowski/grunt-build-control">GitHub page</a>.</p>

<h2>Git subtree command</h2>

<p>You can also maintain the source and built code on the same branch, and deploy only the <code>dist</code> directory with the <a href="https://github.com/apenwarr/git-subtree"><code>git subtree</code></a> command.</p>

<ol>
<li>Remove the <code>dist</code> directory from the <code>.gitignore</code> file. Yeoman projects ignore it by default.</li>
<li><p>Add the <code>dist</code> directory to your repository:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git add dist &amp;&amp; git commit -m &quot;Initial dist subtree commit&quot;
</code></pre></div></li>
<li><p>Deploy the subtree to a different branch. Specify a relative path to your <code>dist</code> directory with <code>--prefix</code>:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git subtree push --prefix dist origin gh-pages
</code></pre></div></li>
<li><p>Develop normally, committing your entire repository to your default (master) branch.</p></li>
<li><p>To deploy the <code>dist</code> directory, run the <code>subtree push</code> command from the root directory:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">git subtree push --prefix dist origin gh-pages
</code></pre></div></li>
</ol>

<h2>Git-directory-deploy script</h2>

<p><a href="https://github.com/X1011/git-directory-deploy">Git directory deploy</a> is a less-automated script that works on similar principles to grunt build control.</p>

<h2>Further reading</h2>

<ul>
<li><a href="https://github.com/git/git/blob/master/contrib/subtree/git-subtree.txt">Git Subtree docs</a></li>
<li><a href="https://help.github.com/articles/user-organization-and-project-pages">Github Pages docs</a></li>
<li><a href="https://github.com/passy/generator-heroku">Generating a Heroku procfile with generator-heroku</a></li>
</ul>

        

        

        
      </section>
    </article>
  </div>
</div>

  

  
  <footer class="page-footer">
  <ul class="footer-links footer-links-social">
    <li>
      <a href="https://plus.google.com/101063139999404044459/posts" class="icon">
        <img src="/assets/img/social-gplus.svg" alt="Google+">
      </a>
    </li>
    <li>
      <a href="http://twitter.com/yeoman" class="icon">
        <img src="/assets/img/social-twitter.svg" alt="Twitter">
      </a>
    </li>
    <li>
      <a href="http://github.com/yeoman/yeoman" class="icon">
        <img src="/assets/img/social-github.svg" alt="Github">
      </a>
    </li>
    <li>
      <a href="/blog/atom.xml" class="icon">
        <img src="/assets/img/social-feed.svg" alt="Feed">
      </a>
    </li>
  </ul>

  <ul class="footer-links footer-links-contribute">
    <li>
      <a href="http://yeoman.github.io/generator/" class="btn">API</a>
    </li>
    <li>
      <a href="https://github.com/yeoman/yeoman.io/blob/master/app/learning/deployment.md" class="btn btn-improve" title="Edit this page on Github to help improve the site">Improve this page</a>
    </li>
  </ul>
</footer><!-- /.footer-links -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>

<!-- build:js(app) /assets/js/scripts.js -->
<script src="/assets/js/libs/prettify.js"></script>
<script src="/assets/js/libs/jquery.timeago.js"></script>
<script src="/assets/js/libs/list.js"></script>
<script src="/assets/js/libs/lodash.min.js"></script>
<script src="/assets/js/script.js"></script>
<!-- endbuild -->

<script>
  // $script.js - github.com/ded/script.js
  (function(a,b,c){typeof c["module"]!="undefined"&&c.module.exports?c.module.exports=b():typeof c["define"]!="undefined"&&c["define"]=="function"&&c.define.amd?define(a,b):c[a]=b()})("$script",function(){function p(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return j;return 1}function q(a,b){p(a,function(a){return!b(a)})}function r(a,b,i){function o(a){return a.call?a():d[a]}function t(){if(!--n){d[m]=1,l&&l();for(var a in f)p(a.split("|"),o)&&!q(f[a],o)&&(f[a]=[])}}a=a[k]?a:[a];var j=b&&b.call,l=j?b:i,m=j?a.join(""):b,n=a.length;return setTimeout(function(){q(a,function(a){if(h[a])return m&&(e[m]=1),h[a]==2&&t();h[a]=1,m&&(e[m]=1),s(!c.test(a)&&g?g+a+".js":a,t)})},0),r}function s(c,d){var e=a.createElement("script"),f=j;e.onload=e.onerror=e[o]=function(){if(e[m]&&!/^c|loade/.test(e[m])||f)return;e.onload=e[o]=null,f=1,h[c]=2,d()},e.async=1,e.src=c,b.insertBefore(e,b.firstChild)}var a=document,b=a.getElementsByTagName("head")[0],c=/^https?:\/\//,d={},e={},f={},g,h={},i="string",j=!1,k="push",l="DOMContentLoaded",m="readyState",n="addEventListener",o="onreadystatechange";return!a[m]&&a[n]&&(a[n](l,function t(){a.removeEventListener(l,t,j),a[m]="complete"},j),a[m]="loading"),r.get=s,r.order=function(a,b,c){(function d(e){e=a.shift(),a.length?r(e,d):r(e,b,c)})()},r.path=function(a){g=a},r.ready=function(a,b,c){a=a[k]?a:[a];var e=[];return!q(a,function(a){d[a]||e[k](a)})&&p(a,function(a){return d[a]})?b():!function(a){f[a]=f[a]||[],f[a][k](b),c&&c(e)}(a.join("|")),r},r},this)
  var _gaq=[
    ['_setAccount','UA-32956520-1'],
    ['_setDomainName', '.yeoman.io'],
    ['_trackPageview'],['_trackPageLoadTime']
  ];
  $script('http://www.google-analytics.com/ga.js');
  $script('https://apis.google.com/js/plusone.js');
  $script("//platform.twitter.com/widgets.js");
</script>

  
</body>
</html>
