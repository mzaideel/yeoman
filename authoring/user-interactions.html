<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  
    <title>Interacting With The User | Yeoman</title>
  
  <meta name="viewport" content="width=device-width">

  <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,700|Roboto:400,700,700italic,400italic' rel='stylesheet' type='text/css'>

  
  <!-- build:css({app,.tmp}) /assets/css/main.css -->
  <link href="/assets/css/normalize.css" rel="stylesheet">
  <link href="/assets/css/main.css" rel="stylesheet">
  <link href="/assets/css/codelab.css" rel="stylesheet">
  <link href="/assets/css/prettify.css" rel="stylesheet">
  <!-- endbuild -->
  

  <link href="/blog/atom.xml" type="application/atom+xml" rel="alternate" title="Yeoman Blog Atom Feed">
</head>

<body class="documentation">

  
  <header class="page-header">
  <div class="container">
    <div class="mobile-bar">
      <h1 class="logo">
        <a href="/"><img src="/assets/img/logo.png" alt="Yeoman"></a>
      </h1>
      <button class="mobile-menu-toggle ir">open</button>
    </div>
    <nav class="main-menu">
      <ul class="main-nav">
        <li>
          <a href="/learning" >Using Yeoman</a>
          <ul>
  <li>
    <a href="/learning/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/codelab.html" >Tutorial (codelab)</a>
  </li>
  <li>
    <a href="/learning/resources.html" >Resources</a>
  </li>
  <li>
    <a href="/learning/deployment.html" >Deployment</a>
  </li>
  <li>
    <a href="/learning/faq.html" >FAQ</a>
  </li>
  <li>
    <a href="/learning/support.html" >Support</a>
  </li>
</ul>

        </li>
        <li>
          <a href="/generators" >Discovering generators</a>
        </li>
        <li>
          <a href="/authoring" class="active">Creating a generator</a>
          <ul>
  <li>
    <a href="/authoring/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/authoring/running-context.html" >Running Context</a>
  </li>
  <li>
    <a href="/authoring/user-interactions.html" class="active">User Interactions</a>
  </li>
  <li>
    <a href="/authoring/composability.html" >Composability</a>
  </li>
  <li>
    <a href="/authoring/dependencies.html" >Managing Dependencies</a>
  </li>
  <li>
    <a href="/authoring/file-system.html" >Interacting with the file system</a>
  </li>
  <li>
    <a href="/authoring/gruntfile.html" >Creating a Gruntfile</a>
  </li>
  <li>
    <a href="/authoring/storage.html" >Storing  user configs</a>
  </li>
  <li>
    <a href="/authoring/testing.html" >Unit testing</a>
  </li>
  <li>
    <a href="http://yeoman.github.io/generator/">Full API documentation</a>
  </li>
</ul>

        </li>
        <li>
          <a href="/blog" >Blog</a>
        </li>
        <li>
          <a href="/contributing" >Contributing</a>
          <ul>
  <li>
    <a href="/contributing/index.html" >Contributing</a>
  </li>
  <li>
    <a href="/contributing/opening-issues.html" >How to open an issue</a>
  </li>
  <li>
    <a href="/contributing/pull-request.html" >How to submit a PR</a>
  </li>
  <li>
    <a href="/contributing/style-guide.html" >Style Guide</a>
  </li>
  <li>
    <a href="/contributing/testing-guidelines.html" >Testing Guidelines</a>
  </li>
  <li>
    <a href="/contributing/ticketing.html" >Issue system overview</a>
  </li>
</ul>

        </li>
      </ul>
    </nav>
  </div><!-- /.container -->
</header><!-- /.page-header -->

  

  
    <div id="content">
  <h2 class="page-title">
    <div class="container">Interacting With The User</div>
  </h2>

  <div class="container has-sidebar clearfix">
    
      <nav class="context-nav">
      <ul>
  <li>
    <a href="/authoring/index.html" >Getting started</a>
  </li>
  <li>
    <a href="/authoring/running-context.html" >Running Context</a>
  </li>
  <li>
    <a href="/authoring/user-interactions.html" class="active">User Interactions</a>
  </li>
  <li>
    <a href="/authoring/composability.html" >Composability</a>
  </li>
  <li>
    <a href="/authoring/dependencies.html" >Managing Dependencies</a>
  </li>
  <li>
    <a href="/authoring/file-system.html" >Interacting with the file system</a>
  </li>
  <li>
    <a href="/authoring/gruntfile.html" >Creating a Gruntfile</a>
  </li>
  <li>
    <a href="/authoring/storage.html" >Storing  user configs</a>
  </li>
  <li>
    <a href="/authoring/testing.html" >Unit testing</a>
  </li>
  <li>
    <a href="http://yeoman.github.io/generator/">Full API documentation</a>
  </li>
</ul>

      </nav>
    

    <article class="main">
      <section class="content-chunk">
        
          <p>Your generator will interact a lot with the end user. By default Yeoman runs on a terminal, but it also supports custom user interfaces that different tools can provide. For example, nothing prevents a Yeoman generator from being run inside of a graphical tool like an editor or a standalone app.</p>

<p>To allow for this flexibility, Yeoman provides a set of user interface element abstractions. It is your responsibility as an author to only use those abstractions when interacting with your end user. Using other ways will probably prevent your generator from running correctly in different Yeoman tools.</p>

<p>For example, it is important to never use <code>console.log()</code> or <code>process.stdout.write()</code> to output content. Using them would hide the output from users not using a terminal. Instead, always rely on the UI generic <code>generator.log()</code> method, where <code>generator</code> is the context of your current generator.</p>

<h2>User interactions</h2>

<h3>Prompts</h3>

<p>Prompts are the main way a generator interacts with a user. The prompt module is provided by <a href="https://github.com/SBoudrias/Inquirer.js">Inquirer.js</a> and you should refer <a href="https://github.com/SBoudrias/Inquirer.js">to its API</a> for a list of available prompt options.</p>

<p>You call the prompt method this way:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="nx">prompting</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">done</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">async</span><span class="p">();</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">prompt</span><span class="p">({</span>
      <span class="nx">type</span>    <span class="o">:</span> <span class="s1">&#39;input&#39;</span><span class="p">,</span>
      <span class="nx">name</span>    <span class="o">:</span> <span class="s1">&#39;name&#39;</span><span class="p">,</span>
      <span class="nx">message</span> <span class="o">:</span> <span class="s1">&#39;Your project name&#39;</span><span class="p">,</span>
      <span class="k">default</span> <span class="o">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">appname</span> <span class="c1">// Default to current folder name</span>
    <span class="p">},</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">answers</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">answers</span><span class="p">.</span><span class="nx">name</span><span class="p">);</span>
      <span class="nx">done</span><span class="p">();</span>
    <span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div>
<p>Note here that we use the <a href="/authoring/running-context.html"><code>prompting</code> queue</a> to ask for feedback from the user.</p>

<h4>Remembering user preferences</h4>

<p>A user may give the same input to certain questions every time he runs your generator. For these questions, you probably want to remember what the user answered previously and use that answer as the new <code>default</code>.</p>

<p>Yeoman extends the Inquirer.js API by adding a <code>store</code> property to question objects. This property allow you to specify that from now on you want to use the answer as the default value. This can be done as follows:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="k">this</span><span class="p">.</span><span class="nx">prompt</span><span class="p">({</span>
  <span class="nx">type</span>    <span class="o">:</span> <span class="s1">&#39;input&#39;</span><span class="p">,</span>
  <span class="nx">name</span>    <span class="o">:</span> <span class="s1">&#39;username&#39;</span><span class="p">,</span>
  <span class="nx">message</span> <span class="o">:</span> <span class="s1">&#39;What\&#39;s your Github username&#39;</span><span class="p">,</span>
  <span class="nx">store</span>   <span class="o">:</span> <span class="kc">true</span>
<span class="p">},</span> <span class="nx">callback</span><span class="p">);</span>
</code></pre></div>
<p><em>Note:</em> Providing a default value will prevent the user from returning an empty answers.</p>

<p>If you&#39;re only looking to store data without being directly tied to the prompt, make sure to checkout <a href="/authoring/storage.html">the Yeoman storage documentation</a>.</p>

<h3>Arguments</h3>

<p>Arguments are passed directly from the command line:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">yo webapp my-project
</code></pre></div>
<p>In this example, <code>my-project</code> would be the first argument.</p>

<p>To notify the system that we expect an argument, we use the <code>generator.argument()</code> method. This method accepts a <code>name</code> (String) and an optional hash of options.</p>

<p>The <code>name</code> will be used to create a getter on the generator: <code>generator[&#39;name&#39;]</code>.</p>

<p>The options hash accepts multiple key-value pairs:</p>

<ul>
<li><code>desc</code> Description for the argument</li>
<li><code>required</code> Boolean whether it is required</li>
<li><code>optional</code> Boolean whether it is optional</li>
<li><code>type</code> String, Number, Array, or Object</li>
<li><code>defaults</code> Default value for this argument</li>
<li><code>banner</code> String to show on usage notes (this one is provided by default)</li>
</ul>

<p>This method must be called inside the <code>constructor</code> method. Otherwise Yeoman won&#39;t be able to output the relevant help information when a user calls your generator with the help option: e.g. <code>yo webapp --help</code>.</p>

<p>Here is an example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="c1">// note: arguments and options should be defined in the constructor.</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

    <span class="c1">// This makes `appname` a required argument.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">argument</span><span class="p">(</span><span class="s1">&#39;appname&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">type</span><span class="o">:</span> <span class="nb">String</span><span class="p">,</span> <span class="nx">required</span><span class="o">:</span> <span class="kc">true</span> <span class="p">});</span>
    <span class="c1">// And you can then access it later on this way; e.g. CamelCased</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">appname</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_</span><span class="p">.</span><span class="nx">camelize</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">appname</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h3>Options</h3>

<p>Options look a lot like arguments, but they are written as command line <em>flags</em>.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">yo webapp --coffee
</code></pre></div>
<p>To notify the system we expect an option, we use the <code>generator.option()</code> method. This method accepts a <code>name</code> (String) and an optional hash of options.</p>

<p>The <code>name</code> value will be used to retrieve the argument at the matching key <code>generator.options[name]</code>.</p>

<p>The options hash (the second argument) accepts multiple key-value pairs:</p>

<ul>
<li><code>desc</code> Description for the option</li>
<li><code>type</code> Either Boolean, String or Number</li>
<li><code>defaults</code> Default value</li>
<li><code>hide</code> Boolean whether to hide from help</li>
</ul>

<p>Here is an example:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="c1">// note: arguments and options should be defined in the constructor.</span>
  <span class="nx">constructor</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">arguments</span><span class="p">);</span>

    <span class="c1">// This method adds support for a `--coffee` flag</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">option</span><span class="p">(</span><span class="s1">&#39;coffee&#39;</span><span class="p">);</span>
    <span class="c1">// And you can then access it later on this way; e.g.</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">scriptSuffix</span> <span class="o">=</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">options</span><span class="p">.</span><span class="nx">coffee</span> <span class="o">?</span> <span class="s2">&quot;.coffee&quot;</span><span class="o">:</span> <span class="s2">&quot;.js&quot;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<h2>Outputting Information</h2>

<p>Outputting information is handled by the <code>generator.log</code> module.</p>

<p>The main method you&#39;ll use is simply <code>generator.log</code> (e.g. <code>generator.log(&#39;Hey! Welcome to my awesome generator&#39;)</code>). It takes a string and outputs it to the user; basically it mimics <code>console.log()</code> when used inside of a terminal session. You can use it like so:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">generators</span><span class="p">.</span><span class="nx">Base</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
  <span class="nx">myAction</span><span class="o">:</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Something has gone wrong!&#39;</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>There&#39;s also some other helper methods you can find in the <a href="http://yeoman.github.io/generator/TerminalAdapter.html">API documentation</a>.</p>


        

        

        
          <div class="contribute-doc">
            Found a typo? An unclear example? Help us improve our documentation by forking and sending your fixes and suggestions. <a href="https://github.com/yeoman/yeoman.io/tree/master/app/authoring/user-interactions.md">Improve this Page!</a>
          </div>
        
      </section>
    </article>
  </div>
</div>

  

  
  <footer class="page-footer">
  <ul class="footer-links footer-links-social">
    <li>
      <a href="https://plus.google.com/101063139999404044459/posts" class="icon">
        <img src="/assets/img/social-gplus.svg" alt="Google+">
      </a>
    </li>
    <li>
      <a href="http://twitter.com/yeoman" class="icon">
        <img src="/assets/img/social-twitter.svg" alt="Twitter">
      </a>
    </li>
    <li>
      <a href="http://github.com/yeoman/yeoman" class="icon">
        <img src="/assets/img/social-github.svg" alt="Github">
      </a>
    </li>
    <li>
      <a href="/blog/atom.xml" class="icon">
        <img src="/assets/img/social-feed.svg" alt="Feed">
      </a>
    </li>
  </ul>

  <ul class="footer-links footer-links-contribute">
    <li>
      <a href="http://yeoman.github.io/generator/" class="btn">API</a>
    </li>
    <li>
      <a href="https://github.com/yeoman/yeoman.io/blob/master/app/authoring/user-interactions.md" class="btn btn-improve" title="Edit this page on Github to help improve the site">Improve this page</a>
    </li>
  </ul>
</footer><!-- /.footer-links -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>

<!-- build:js(app) /assets/js/scripts.js -->
<script src="/assets/js/libs/prettify.js"></script>
<script src="/assets/js/libs/jquery.timeago.js"></script>
<script src="/assets/js/libs/list.js"></script>
<script src="/assets/js/libs/lodash.min.js"></script>
<script src="/assets/js/script.js"></script>
<!-- endbuild -->

<script>
  // $script.js - github.com/ded/script.js
  (function(a,b,c){typeof c["module"]!="undefined"&&c.module.exports?c.module.exports=b():typeof c["define"]!="undefined"&&c["define"]=="function"&&c.define.amd?define(a,b):c[a]=b()})("$script",function(){function p(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return j;return 1}function q(a,b){p(a,function(a){return!b(a)})}function r(a,b,i){function o(a){return a.call?a():d[a]}function t(){if(!--n){d[m]=1,l&&l();for(var a in f)p(a.split("|"),o)&&!q(f[a],o)&&(f[a]=[])}}a=a[k]?a:[a];var j=b&&b.call,l=j?b:i,m=j?a.join(""):b,n=a.length;return setTimeout(function(){q(a,function(a){if(h[a])return m&&(e[m]=1),h[a]==2&&t();h[a]=1,m&&(e[m]=1),s(!c.test(a)&&g?g+a+".js":a,t)})},0),r}function s(c,d){var e=a.createElement("script"),f=j;e.onload=e.onerror=e[o]=function(){if(e[m]&&!/^c|loade/.test(e[m])||f)return;e.onload=e[o]=null,f=1,h[c]=2,d()},e.async=1,e.src=c,b.insertBefore(e,b.firstChild)}var a=document,b=a.getElementsByTagName("head")[0],c=/^https?:\/\//,d={},e={},f={},g,h={},i="string",j=!1,k="push",l="DOMContentLoaded",m="readyState",n="addEventListener",o="onreadystatechange";return!a[m]&&a[n]&&(a[n](l,function t(){a.removeEventListener(l,t,j),a[m]="complete"},j),a[m]="loading"),r.get=s,r.order=function(a,b,c){(function d(e){e=a.shift(),a.length?r(e,d):r(e,b,c)})()},r.path=function(a){g=a},r.ready=function(a,b,c){a=a[k]?a:[a];var e=[];return!q(a,function(a){d[a]||e[k](a)})&&p(a,function(a){return d[a]})?b():!function(a){f[a]=f[a]||[],f[a][k](b),c&&c(e)}(a.join("|")),r},r},this)
  var _gaq=[
    ['_setAccount','UA-32956520-1'],
    ['_setDomainName', '.yeoman.io'],
    ['_trackPageview'],['_trackPageLoadTime']
  ];
  $script('http://www.google-analytics.com/ga.js');
  $script('https://apis.google.com/js/plusone.js');
  $script("//platform.twitter.com/widgets.js");
</script>

  
</body>
</html>
